{"ast":null,"code":"var _jsxFileName = \"D:\\\\amazon\\\\client\\\\src\\\\components\\\\Adresse\\\\AddAdresse\\\\AddAdresse.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useAdressesContext } from \"../../../hooks/useAdressesContext\";\nimport { useAuthContext } from \"../../../hooks/useAuthContext\";\nimport './AddAdresse.css';\nimport { LocationList2 } from \"../../Header/HeaderDesktop/Location/LocationList\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AddAdresse() {\n  _s();\n\n  const [country, setCountry] = useState();\n  const [firstName, setFirstName] = useState();\n  const [lastName, setLastName] = useState();\n  const [phoneNumber, setPhoneNumber] = useState();\n  const [adresse, setAdresse] = useState();\n  const [zipCode, setZipCode] = useState();\n  const [city, setCity] = useState();\n  const [error, setError] = useState();\n  const {\n    dispatch\n  } = useAdressesContext();\n  const {\n    user\n  } = useAuthContext();\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    if (!user) {\n      setError('Vous devez etre connecté');\n      return;\n    }\n\n    const adresse = {\n      country,\n      firstName,\n      lastName,\n      phoneNumber,\n      adresse,\n      zipCode,\n      city\n    };\n    const response = await fetch('/api/adresses/addAdresse', {\n      method: 'POST',\n      body: JSON.stringify(adresse),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    const json = await response.json();\n\n    if (!response.ok) {\n      setError(json.error);\n    }\n\n    if (response.ok) {\n      setCountry('');\n      setFirstName('');\n      setLastName('');\n      setPhoneNumber('');\n      setAdresse('');\n      setZipCode('');\n      setCity('');\n      setError(null);\n      dispatch({\n        type: 'CREATE_ADRESSE',\n        payload: json\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"addAdress\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"addAdresse__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Ajouter une nouvelle adresse\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: e => setCountry(e.target.value),\n          value: country,\n          children: /*#__PURE__*/_jsxDEV(\"optgroup\", {\n            children: LocationList2.map((item, index) => {\n              return /*#__PURE__*/_jsxDEV(\"option\", {\n                value: item,\n                children: item\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 37\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Pr\\xE9nom\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: firstName,\n          onChange: e => setFirstName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Nom\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: lastName,\n          onChange: e => setLastName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Num\\xE9ro de t\\xE9l\\xE9phone\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: phoneNumber,\n          onChange: e => setPhoneNumber(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Adresse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: adresse,\n          onChange: e => setAdresse(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Code postal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: zipCode,\n          onChange: e => setZipCode(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Ville\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: city,\n          onChange: e => setCity(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"addAdresse__signInButton\",\n          onclick: handleSubmit,\n          children: \"Ajouter une adresse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AddAdresse, \"gFmgcj6Nv/oWbMINDQQ/8iWQqVA=\", false, function () {\n  return [useAdressesContext, useAuthContext];\n});\n\n_c = AddAdresse;\nexport default AddAdresse;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddAdresse\");","map":{"version":3,"sources":["D:/amazon/client/src/components/Adresse/AddAdresse/AddAdresse.js"],"names":["React","useState","Link","useAdressesContext","useAuthContext","LocationList2","AddAdresse","country","setCountry","firstName","setFirstName","lastName","setLastName","phoneNumber","setPhoneNumber","adresse","setAdresse","zipCode","setZipCode","city","setCity","error","setError","dispatch","user","handleSubmit","e","preventDefault","response","fetch","method","body","JSON","stringify","headers","json","ok","type","payload","target","value","map","item","index"],"mappings":"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","sourcesContent":["import React,{ useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useAdressesContext } from \"../../../hooks/useAdressesContext\"\r\nimport { useAuthContext } from \"../../../hooks/useAuthContext\"\r\nimport './AddAdresse.css';\r\n\r\nimport { LocationList2 } from \"../../Header/HeaderDesktop/Location/LocationList\";\r\n\r\nfunction AddAdresse() {\r\n    const [country, setCountry] = useState();\r\n    const [firstName, setFirstName] = useState();\r\n    const [lastName, setLastName] = useState();\r\n    const [phoneNumber, setPhoneNumber] = useState();\r\n    const [adresse, setAdresse] = useState();\r\n    const [zipCode, setZipCode] = useState();\r\n    const [city, setCity] = useState();\r\n    const [error, setError] = useState();\r\n    const { dispatch } = useAdressesContext()\r\n    const { user } = useAuthContext()\r\n\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        if(!user) {\r\n            setError('Vous devez etre connecté')\r\n            return\r\n        }\r\n\r\n        const adresse = {country, firstName, lastName, phoneNumber, adresse, zipCode, city}\r\n\r\n        const response = await fetch('/api/adresses/addAdresse', {\r\n            method: 'POST',\r\n            body: JSON.stringify(adresse),\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n               \r\n            }\r\n        })\r\n\r\n        const json = await response.json()\r\n\r\n        if(!response.ok) {\r\n            setError(json.error)\r\n        }\r\n        if(response.ok) {\r\n            setCountry('');\r\n            setFirstName('');\r\n            setLastName('');\r\n            setPhoneNumber('');\r\n            setAdresse('');\r\n            setZipCode('');\r\n            setCity('');\r\n            setError(null);\r\n            dispatch({type: 'CREATE_ADRESSE', payload: json})\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"addAdress\">\r\n            <div className=\"addAdresse__container\">\r\n                <h1>Ajouter une nouvelle adresse</h1>\r\n                <form>\r\n                    <select onChange={e => setCountry(e.target.value)} value={country}>\r\n                        <optgroup>\r\n                            {LocationList2.map((item, index) =>{\r\n                                return(\r\n                                    <option key={index} value={item}>{item}</option>\r\n                                )\r\n                            })}\r\n                        </optgroup>\r\n                    </select>\r\n                    <h5>Prénom</h5>\r\n                    <input type=\"text\" value={firstName} onChange={e => setFirstName(e.target.value)}/>\r\n                    <h5>Nom</h5>\r\n                    <input type=\"text\" value={lastName} onChange={e => setLastName(e.target.value)}/>\r\n                    <h5>Numéro de téléphone</h5>\r\n                    <input type=\"text\" value={phoneNumber} onChange={e => setPhoneNumber(e.target.value)}/>\r\n                    <h5>Adresse</h5>\r\n                    <input type=\"text\" value={adresse} onChange={e => setAdresse(e.target.value)}/>\r\n                    <h5>Code postal</h5>\r\n                    <input type=\"text\" value={zipCode} onChange={e => setZipCode(e.target.value)}/>\r\n                    <h5>Ville</h5>\r\n                    <input type=\"text\" value={city} onChange={e => setCity(e.target.value)}/>\r\n                    <button className=\"addAdresse__signInButton\" onclick={handleSubmit}>Ajouter une adresse</button>\r\n                    {error && <div>{error}</div>}\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddAdresse\r\n"]},"metadata":{},"sourceType":"module"}