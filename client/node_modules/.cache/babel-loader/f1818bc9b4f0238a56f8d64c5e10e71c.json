{"ast":null,"code":"export const initialState = {\n  cart: JSON.parse(localStorage.getItem('cart')) || [],\n  user: JSON.parse(localStorage.getItem('user')) || null,\n  searchBar: \"\",\n  searchCategory: \"Toutes nos Catégories\"\n};\nexport const getCartTotal = cart => cart === null || cart === void 0 ? void 0 : cart.reduce((amount, item) => item.price + amount, 0);\nexport const reducer = (state, action) => {\n  switch (action.type) {\n    case \"ADD_TO_CART\":\n      return { ...state,\n        cart: [...state.cart, action.item]\n      };\n\n    case \"REMOVE_FROM_CART\":\n      const index = state.cart.findIndex(CartItem => CartItem.id === action.id);\n      let newCart = [...state.cart];\n\n      if (index >= 0) {\n        newCart.splice(index, 1);\n      } else {\n        console.warn(`Impossible de supprimer le produit (id: ${action.id}) car il n'est pas dans le panier !`);\n      }\n\n      return { ...state,\n        cart: newCart\n      };\n\n    case \"SET_USER\":\n      return { ...state,\n        user: action.user\n      };\n\n    case \"SEARCH_BAR\":\n      return { ...state,\n        searchBar: action.searchBar\n      };\n\n    case \"SEARCH_CATEGORY\":\n      return { ...state,\n        searchCategory: action.searchCategory\n      };\n\n    default:\n      return state;\n  }\n};\nexport default reducer;","map":{"version":3,"sources":["D:/amazon/client/src/Reducer.js"],"names":["initialState","cart","JSON","parse","localStorage","getItem","user","searchBar","searchCategory","getCartTotal","reduce","amount","item","price","reducer","state","action","type","index","findIndex","CartItem","id","newCart","splice","console","warn"],"mappings":"AAAA,OAAO,MAAMA,YAAY,GAAG;AACxBC,EAAAA,IAAI,EAAEC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,KAA4C,EAD1B;AAExBC,EAAAA,IAAI,EAAEJ,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,KAA4C,IAF1B;AAGxBE,EAAAA,SAAS,EAAE,EAHa;AAIxBC,EAAAA,cAAc,EAAE;AAJQ,CAArB;AAOP,OAAO,MAAMC,YAAY,GAAIR,IAAD,IACxBA,IADwB,aACxBA,IADwB,uBACxBA,IAAI,CAAES,MAAN,CAAa,CAACC,MAAD,EAASC,IAAT,KAAkBA,IAAI,CAACC,KAAL,GAAaF,MAA5C,EAAoD,CAApD,CADG;AAKP,OAAO,MAAMG,OAAO,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACtC,UAAOA,MAAM,CAACC,IAAd;AACI,SAAK,aAAL;AACI,aAAO,EACH,GAAGF,KADA;AAEHd,QAAAA,IAAI,EAAE,CAAC,GAAGc,KAAK,CAACd,IAAV,EAAgBe,MAAM,CAACJ,IAAvB;AAFH,OAAP;;AAMJ,SAAK,kBAAL;AAEI,YAAMM,KAAK,GAAGH,KAAK,CAACd,IAAN,CAAWkB,SAAX,CACTC,QAAD,IAAcA,QAAQ,CAACC,EAAT,KAAgBL,MAAM,CAACK,EAD3B,CAAd;AAGA,UAAIC,OAAO,GAAG,CAAC,GAAGP,KAAK,CAACd,IAAV,CAAd;;AAEA,UAAGiB,KAAK,IAAI,CAAZ,EAAc;AACVI,QAAAA,OAAO,CAACC,MAAR,CAAeL,KAAf,EAAsB,CAAtB;AACH,OAFD,MAIK;AACDM,QAAAA,OAAO,CAACC,IAAR,CAAc,2CAA0CT,MAAM,CAACK,EAAG,qCAAlE;AACH;;AAED,aAAO,EACH,GAAGN,KADA;AAEHd,QAAAA,IAAI,EAAEqB;AAFH,OAAP;;AAMJ,SAAK,UAAL;AACI,aAAM,EACF,GAAGP,KADD;AAEFT,QAAAA,IAAI,EAAEU,MAAM,CAACV;AAFX,OAAN;;AAIJ,SAAK,YAAL;AACI,aAAM,EACF,GAAGS,KADD;AAEFR,QAAAA,SAAS,EAAES,MAAM,CAACT;AAFhB,OAAN;;AAKJ,SAAK,iBAAL;AACI,aAAM,EACF,GAAGQ,KADD;AAEFP,QAAAA,cAAc,EAAEQ,MAAM,CAACR;AAFrB,OAAN;;AAKJ;AACI,aAAOO,KAAP;AA/CR;AAiDH,CAlDM;AAoDP,eAAeD,OAAf","sourcesContent":["export const initialState = {\r\n    cart: JSON.parse(localStorage.getItem('cart')) || [],\r\n    user: JSON.parse(localStorage.getItem('user')) || null,\r\n    searchBar: \"\",\r\n    searchCategory: \"Toutes nos Catégories\",\r\n};\r\n\r\nexport const getCartTotal = (cart) =>\r\n    cart?.reduce((amount, item) => item.price + amount, 0);\r\n    \r\n\r\n\r\nexport const reducer = (state, action) => {\r\n    switch(action.type){\r\n        case \"ADD_TO_CART\":\r\n            return {\r\n                ...state,\r\n                cart: [...state.cart, action.item]\r\n            };\r\n\r\n\r\n        case \"REMOVE_FROM_CART\":\r\n           \r\n            const index = state.cart.findIndex(\r\n                (CartItem) => CartItem.id === action.id);\r\n\r\n            let newCart = [...state.cart];\r\n\r\n            if(index >= 0){\r\n                newCart.splice(index, 1);\r\n            }\r\n            \r\n            else {\r\n                console.warn(`Impossible de supprimer le produit (id: ${action.id}) car il n'est pas dans le panier !`)\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                cart: newCart\r\n            };\r\n\r\n\r\n        case \"SET_USER\":\r\n            return{\r\n                ...state,\r\n                user: action.user\r\n            }\r\n        case \"SEARCH_BAR\":\r\n            return{\r\n                ...state,\r\n                searchBar: action.searchBar\r\n            };\r\n            \r\n        case \"SEARCH_CATEGORY\":\r\n            return{\r\n                ...state,\r\n                searchCategory: action.searchCategory\r\n            };\r\n               \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer"]},"metadata":{},"sourceType":"module"}